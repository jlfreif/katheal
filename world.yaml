# World: Kathaél
#
# A luminous, enchanted realm shaped by the inner courage of its inhabitants.

# What's this world called?
name: Kathaél

# Core concept
description: |
  Kathaél is a luminous, enchanted realm shaped by the **inner courage** of its inhabitants.
  Every honest or heartfelt choice becomes a glowing thread in the **Heart Crystal**, a massive
  crystalline structure that binds the world together. Landscapes subtly shift in response to sincerity:
  paths open, soft lights appear, and magical creatures stir awake. Each child's story unfolds
  in a different region, but key decisions send ripples across the realm, creating moments where
  their journeys **intersect**. These interlocking points are called **Narrative Nodes**, where
  characters' choices align and reveal new possibilities. Kathaél exists outside ordinary
  time — a story-realm built around wonder, connection, and the quiet bravery of choosing what
  matters.

# Heart Crystal: Core Magic System
heart_crystal:
  description_physical: |
    A massive crystalline structure rising in the forest, tall as a building. Has multiple
    distinct facets, each representing a different aspect of Kathaél (stories, colors, music,
    nature, etc.). Each facet corresponds to a character's story. Golden threads flow from it
    like light through a prism. Can be climbed, touched, explored - it's physically interactive.
    Makes sounds: hums, chimes, resonates, cracks.

  purpose: |
    The Heart Crystal is the massive crystalline structure at Kathaél's center that holds all
    stories together. When stories find their true endings, their threads flow into the Crystal,
    strengthening the realm. But when stories are overthought, forced, or abandoned, their threads
    fray and the Crystal begins to crack.

  stakes: |
    If the Heart Crystal cracks completely, stories die forever. Not just in Kathaél, but
    everywhere stories exist. The unfinished tales lose their chance to become what they
    were meant to be.

  rules:
    - name: Honesty Rule
      description: Story-threads respond to honest presence, not perfect understanding. A story
        knows when someone is genuinely present versus trying to analyze or predict its ending.

    - name: Presence Rule
      description: Stories complete themselves when someone is present without needing to
        understand every outcome. The act of witnessing with trust is itself a form of help.
        Emotional truth matters more than intellectual comprehension.

    - name: Courage Rule
      description: Courage creates connection. When one heart chooses bravely, ripples
        spread through the Heart Crystal, strengthening others who are also being brave.

    - name: Understanding Trap
      description: Trying to fully understand or analyze stories before trusting them makes them worse.
        Even well-intentioned attempts to decode patterns tangles threads and dims their light.
        Stories need presence, not comprehension.

# Synchrony Node Arc (for Noah and Elise's connection)
synchrony_arc:
  description: |
    The three Narrative Nodes form a coherent mini-arc showing how connection deepens:

  node_1_meeting:
    spread: 4
    theme: CURIOSITY + PARALLEL JOURNEYS
    purpose: Characters discover they're not alone. First recognition that others are
      trying to help too. Seeds of hope planted.

  node_2_mirrored:
    spread: 7
    theme: SHARED DIFFICULTY + PERSISTENCE
    purpose: Characters face similar struggles apart. The lantern motif shows their
      parallel challenges. Encouragement comes from knowing others persist.

  node_3_resonant:
    spread: 9
    theme: MUTUAL BRAVERY + EMOTIONAL RESONANCE
    purpose: Characters' courage ripples across distance. Their brave choices strengthen
      each other through the Heart Crystal. Deep connection without proximity.

# What's the visual style?
# How does this world look? What's the aesthetic, color palette, atmosphere?
# This is used for prompting the visual system.
visual_style:
  - Watercolor Etherealism with Fine Ink Linework - soft watercolor washes paired with delicate ink lines, dreamlike yet grounded
  - Colors blend gently with mist blues, warm creams, honey golds, with brighter jewel tones appearing when magic stirs
  - The atmosphere feels warm, intimate, and slightly glowing, as if courage adds its own light to the scene
  - Magical elements are subtle - a shimmer around leaves, gold flecks in waterfalls, or luminous threads drifting through the air
  - Settings include responsive forests, glowing meadows, cozy lantern-lit villages, and ancient bridges of starlight
  - Everything looks hand-painted, organic, and quietly enchanted
  - A world where emotion shapes the landscape and children's choices guide the way
  - When the Heart Crystal is active, glowing golden threads appear in the air, flowing through scenes
  - Narrative Nodes manifest as points of radiant light where paths or landscapes align
  - Inspired by Oliver Jeffers and Paul Cezanne, a style that blends soft, atmospheric impressionism (shifting landscapes, emotional color palettes); and mythic, symbolic fantasy illustration (creatures, woven magic, visual metaphors).

# Characters in this world
characters:
  - id: no
    name: Noah
    file: no-noah.yaml
  - id: el
    name: Elise
    file: el-elise.yaml
  - id: mx
    name: Max
    file: mx-max.yaml
  - id: ma
    name: Maya
    file: ma-maya.yaml
  - id: mo
    name: Mona
    file: mo-mona.yaml
  - id: mi
    name: Micah
    file: mi-micah.yaml

# === NARRATIVE NODE SYSTEM ===
#
# Narrative Nodes connect character stories at synchronized spread numbers.
# Three types of nodes create different kinds of connections:
#
# 1. MEETING NODE - Characters physically converge
#    - Same location, same time
#    - Shared scene with POV variants
#    - Characters interact directly
#
# 2. MIRRORED NODE - Parallel challenges, themes rhyme
#    - Different locations, shared theme
#    - Symbolic motif appears in all stories
#    - Characters face similar challenges apart
#
# 3. RESONANT NODE - Emotional ripple across distance
#    - Emotional connection without proximity
#    - One character's growth affects another's world
#    - Must follow a character growth moment

# Node type definitions (reference)
node_types:
  meeting:
    name: Meeting Node
    file_pattern: "cc-cc-pp.yaml"  # Shared file (alphabetical char codes)
    description: Characters physically present in same scene
    visual_manifestation: Scene shows all characters together; POV shifts between books

  mirrored:
    name: Mirrored Node
    file_pattern: "cc-pp.yaml + mirrored-pp.yaml"  # Separate files + definition
    description: Characters face parallel challenges in different places
    visual_manifestation: Symbolic motif appears in each character's scene

  resonant:
    name: Resonant Node
    file_pattern: "cc-pp.yaml + resonant-pp.yaml"  # Separate files + definition
    description: Emotional ripple connecting characters across distance
    visual_manifestation: Symbolic phenomenon (golden threads, sky shimmer) visible in both scenes

# Character interactions and Narrative Nodes
# Maps which characters connect at which spread numbers and how
interactions:
  # Noah and Elise connections
  - characters: [el, no]
    description: |
      Three Narrative Nodes where Noah and Elise's paths cross or resonate:
      - Spread 4: Meeting Node - Seeking guidance at a luminous crossroads
      - Spread 7: Mirrored Node - Parallel struggles with almost-success
      - Spread 9: Resonant Node - Courage rippling across distance
    nodes:
      - spread: 4
        type: meeting
        page_file: el-no-04.yaml
        location: Luminous crossroads beneath the ancient willow
        shared_action: Both reach for Heart Crystal threads seeking guidance
        description: Seeking guidance at a luminous crossroads

      - spread: 7
        type: mirrored
        definition_file: mirrored-07.yaml
        page_files:
          - el-07.yaml
          - no-07.yaml
        description: Parallel struggles with almost-success
        symbolic_motif: flickering_lantern

      - spread: 9
        type: resonant
        definition_file: resonant-09.yaml
        page_files:
          - el-09.yaml
          - no-09.yaml
        description: Courage rippling across distance
        symbolic_resonance: golden_thread_shimmer

  # Maya and Elise connections (cousins and best friends)
  - characters: [el, ma]
    description: |
      Maya and Elise discover each other in Kathaél:
      - Spread 3: Meeting Node - Cousins reunite in the faded meadow
    nodes:
      - spread: 3
        type: meeting
        page_file: el-ma-03.yaml
        location: Faded meadow with frozen performances
        shared_action: Both trying obvious solutions that don't work, then recognizing each other
        description: Cousins discover each other in Kathaél

  # Max and Noah connections (both analytical 12-year-old boys)
  - characters: [mx, no]
    description: |
      Max and Noah meet while trying analytical approaches:
      - Spread 5: Meeting Node - Discovering their similar mistakes
    nodes:
      - spread: 5
        type: meeting
        page_file: mx-no-05.yaml
        location: Vast clearing with frozen stories and challenges
        shared_action: Both witness the formulaic storyteller making things worse
        description: Two analytical boys learn from each other's mistakes

  # Max and Maya connections (peer courage support)
  - characters: [ma, mx]
    description: |
      Max and Maya support each other through parallel growth:
      - Spread 6: Mirrored Node - Discovering their authentic approaches
    nodes:
      - spread: 6
        type: mirrored
        definition_file: mirrored-06.yaml
        page_files:
          - mx-06.yaml
          - ma-06.yaml
        description: Both discover their authentic approaches to courage
        symbolic_motif: courage_compass

# Layout system reference
layout:
  spreads_per_story: 12
  pages_per_spread: 2
  images_per_page: 1
  sentences_per_scene: "3-4"
  total_pages: 24
  total_images: 24
  beat_expression: "Each story beat spans both pages of a spread (2 scenes per beat)"

# Symbolic elements that can appear in nodes
symbolic_elements:
  heart_crystal_threads:
    description: Glowing golden threads that appear when characters make heartfelt choices
    appears_in: [meeting, resonant]
    visual: Golden threads flowing through the air like light through a prism, sometimes forming patterns

  flickering_lantern:
    description: A lantern whose flame responds to trust and presence
    appears_in: [mirrored]
    visual: Flame brightens with trust and presence, dims with overthinking or need for control

  sky_shimmer:
    description: A subtle golden ripple across the sky connecting distant characters
    appears_in: [resonant]
    visual: Soft golden light rippling like aurora, connecting horizon to horizon
